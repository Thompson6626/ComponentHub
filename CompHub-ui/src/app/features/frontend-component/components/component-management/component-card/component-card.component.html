<div class="mb-6">
  <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300 flex flex-col h-[450px]">
    <!-- Title -->
    <h3 class="text-xl font-semibold text-gray-900 cursor-pointer"
        [routerLink]="['../user', component().creator.username, 'component', component().name]">
      {{ component().name }}
    </h3>
    <h5 class="text-lg font-semibold text-gray-700 cursor-pointer"
        [routerLink]="['../user', component().creator.username]">
      {{ component().creator.username }}
    </h5>

    <!-- Image or Placeholder -->
    <div class="w-full h-40 flex items-center justify-center bg-gray-200 rounded-md mt-2">
      @if (component().imageUrl) {
        <img [src]="component().imageUrl" class="w-full h-full object-cover rounded-md" />
      } @else {
        <span class="text-gray-500 text-sm">No Image Available</span>
      }
    </div>

    <!-- Description (Fixed space with clamping) -->
    <div class="mt-2 flex-grow min-h-[60px] max-h-[90px] overflow-hidden">
      <p class="text-gray-600 line-clamp-3">{{ component().description }}</p>
    </div>

    <!-- Categories (Takes space if available) -->
    <div class="mt-2 flex flex-wrap gap-2 overflow-hidden min-h-[40px] max-h-[50px]">
      @if (component().categories && component().categories.length > 0) {
        @for (category of component().categories; track $index) {
          <p-chip [label]="category.name" class="bg-blue-100 text-blue-700 px-3 py-1 rounded-lg shadow-sm"></p-chip>
        }
      }
    </div>

    <!-- Timestamps (Always at bottom) -->
    <div class="mt-auto pt-4 border-t border-gray-200">
      <p class="text-gray-500 truncate"><strong>Updated:</strong> {{ component().updatedAt | date }}</p>
      <p class="text-gray-500 truncate"><strong>Created:</strong> {{ component().createdAt | date }}</p>
    </div>
  </div>
</div>
